### AWS 글로벌 인프라 (AWS 호스팅)


#### 리전
* 2개 이상의 가용 영역을 호스팅하는 지리 영역
* 리전은 서로 완전히 독립된 엔터티
* 한 리전의 리소스는 다른 리전으로 자동 복제되지 않음

#### 가용 영역 (AZ)
* 특정 리전 내에 존재하는 데이터 센터들의 모음
* 서로 격리되어 있지만 지연 시간이 짧은 링크로 연결되어 있음
* 물리적으로 구분된 독립적 인프라
* 물리적, 논리적 분리
* 별도의 무정전 전원 공급 장치 (UPS), 현장 예비 발전기, 냉각 장비, 네트워킹 및 연결 수단
* 독립적인 전력 회사의 서로 다른 전력망을 통해 전력 공급
* 여러 티어1 전송 서비스 공급자를 통해 연결
* 모범 사례에 따르면 다중 AZ에 걸쳐 데이터 프로비저닝 권장

#### 엣지 로케이션
* CloudFront라고 하는 CDN 호스팅
* 여러 엣지 로케이션과 리전으로 구성된 글로벌 네트워크를 활용하면 보다 빠른 컨텐츠 전송 가능
* 리전 및 가용 영역들과 비슷하게 인구 밀도가 높은 지역에 위치


----


## VPC


#### 기본 정보
* AWS의 네트워킹 서비스
* 온프레미스 네트워크와 동일한 여러 가지 개념 및 구성을 사용하는 클라우드 내 프라이빗 네트워크 생성 가능
* 제어, 보안 및 유용성을 저해하지 않고도 네트워크 설정의 복잡성이 상당 부분 추상화되어 있음
* IP 주소 공간, 서브넷, 라우팅 테이블과 같은 일반 네트워킹 구성 항목 정의 가능
* EC2, RDS 등 여러 서비스와 통합

#### 기능
* 리전 및 가용 영역의 AWS 글로벌 인프라를 기반으로 함
* 리전 내에 있으며 여러 가용 영역에 걸쳐 확장 가능
* 다중 VPC 생성 가능
* 여러 서브넷에 의해 분할되는 하나의 IP 주소 공간 정의 가능
* 서브넷과 인터넷 사이의 트래픽을 제어하기 위해 서브넷에 대한 라우팅 테이블 구성 가능
* VPC 내 모든 서브넷은 서로 통신 가능


----


## 보안 그룹


#### 기본 정보
* 내장 방화벽과 같은 개념으로 인스턴스에 대한 접근성을 완벽하게 제어
* 보안 그룹 규칙을 구성하여 어떤 트래픽을 허용/거부할 것인지 제어
* 해당 인스턴스를 100% 프라이빗 또는 퍼블릭 상태로 유지하거나 혹은 그 중간 수준의 상태로 유지하는 등 다양한 구성 가능
* 인바운드, 아웃바운드, 트래픽 유형, 프로토콜, 포트 범위 및 소스 별 구성 가능
* 사용 중인 인스턴스에 필요한 트래픽이 무엇인지 파악하고 그 트래픽만 특별히 허용할 것을 권장


----


## AWS Lambda


#### 기본 정보
* 서버를 프로비저닝하거나 관리할 필요 없이 코드를 실행할 수 있는 컴퓨팅 서비스
* 필요할 때에만 코드 실행
* 초당 수천 건의 요청으로 자동 확장
* 코드가 실행되지 않는 시간에 대해서는 비용 발생하지 않음
* 모든 애플리케이션, 백엔드 서비스에 대한 코드 실행 가능
* 고가용성 컴퓨팅 인프라에서 코드 실행
* 서버 및 운영 체제 유지 관리, 용량 프로비저닝, Auto Scaling, 코드 모니터링, 로깅 등 모든 관리 기능 제공
* 다양한 프로그래밍 언어 지원
* AWS CodePipeline, AWS CodeDeploy를 통해 자동 배포 가능
* 마이크로 서비스 아키텍처 구축

#### 옵션
* 최대 512MB 디스크 공간
* 메모리 128MB ~ 1,536MB
* 최대 5분까지만 실행
* 최대 6MB의 요청 및 응답
* 최대 128KB의 이벤트 요청 본문

#### 사용 예
* 백업 자동화
* S3에 업로드된 객체의 처리
* 이벤트 중심의 로그 분석
* 이벤트 중심의 변환
* IoT
* 서버리스 웹사이트 운영
* Amazon Kinesis를 통한 실시간 스트리밍 데이터 처리
  * 애플리케이션 활동 추적
  * 트랜잭션 주문 처리
  * 클릭스트림 분석
  * 데이터 정리 측정치
  * 생성 로그 필터링
  * 소셜 미디어 인덱싱 분석
  * 디바이스 데이터 원격 측정 및 모니터링




----


## Elastic Beanstalk


#### 기본 정보
* PaaS
* 전체 시스템을 완벽하게 제어 가능
* Auto Scaling 설정 값 조정 가능
* 사용 중인 애플리케이션 업데이트 가능
* 서버 로그 파일 액세스 가능
* 로드 밸런서의 HTTPS 활성화 가능
* 다양한 플랫폼 지원
* Go, Java with Tomcat, Java SE, Windows 기반 .NET, Node.js, PHP, Python, Ruby 지원





----


## Application Load Balancer


Classic Load Balancer에 몇 가지 중요한 기능 및 개선 사항 추가

#### 향상된 기능
* 지원되는 요청 프로토콜 추가 (HTTP/2, WebSocket)
* 지표 및 액세스 로그 개선
* 상태 확인 대상 확대

#### 추가 기능
* 경로 기반 라우팅
  * 요청 내 URL을 기반으로 대상 그룹으로 라우팅하는 규칙 생성
* 호스트 기반 라우팅
  * 동일한 로드 밸런서가 여러 도메인을 지원
* 요청된 도메인을 기반으로 요청을 대상 그룹으로 라우팅 가능
* 요청 추적: 클라이언트에서 대상까지 요청 추적
* ECS 예약 컨테이너 사용 시 동적 호스트 포트 설정 가능
* VPC에서 IPv6 기본 지원
* AWS 웹 애플리케이션 통합

#### 사용 시나리오
* 컨테이너를 사용하여 마이크로 서비스를 호스트하고 단일 로드 밸런서로부터 이러한 애플리케이션으로 라우팅
* 서로 다른 요청을 동일한 인스턴스로 라우팅하되 포트에 따라 다른 경로 지정 가능
* 다양한 포트에서 수신대기 하는 여러 컨테이너가 있을 경우 라우팅 규칙을 설정하여 원하는 백엔드 애플리케이션으로만 트래픽 분배 가능




----


## Auto Scaling


#### 기본 정보
* 애플리케이션의 로드를 처리할 수 있는 적절한 수의 EC2 인스턴스를 유지
* 향후 특정 시점에서 워크로드 요구 사항을 충족하기 위해 몇 개의 EC2 인스턴스가 필요할지 추측할 필요가 없어짐
* CloudWatch를 통해 EC2 인스턴스의 워크로드 성능을 모니터링

#### 자동 조정 구성 요소
* 시작 구성 생성 - WHAT
  * Auto Scaling이 시작할 인스턴스 정의
  * 사용할 AMI, 인스턴스 유형, 보안 그룹, 역할 등
* Auto Scaling 그룹 생성 - WHERE
  * 배포가 이루어지는 위치와 배포에 대한 제한을 정의
  * 어느 VPC가 인스턴스를 배포할지, 어느 로드 밸런서에서 상호 작용할지
  * 인스턴스의 최소/최대 개수
* Auto Scaling 정책 정의 - WHEN
  * 언제 EC2 인스턴스를 시작/종료할지 지정
  * CloudWatch 경보를 통한 이벤트 설정





----


## EBS


#### 기본 정보
* EC2 인스턴스의 저장 단위
* 사용한 만큼 지불
* 내구성과 가용성 위주로 설계
* 블록 수준 복제로 인해 HDD, SSD보다 내구성이 훨씬 좋음
* 스냅샷 생성을 통해 높은 수준의 내구성 제공
* 스냅샷으로부터 새로운 볼륨 생성 가능
* 스냅샷을 공유하거나 다른 리전에 복사 가능
* 스냅샷을 암호화하여 다른 리전 공유 가능
* 추가 비용 없이 암호화 가능





----


## S3


#### 기본 정보
* 데이터 저장 및 검색을 위해 간단한 API를 제공해주는 완전 관리형 스토리지 서비스
* 이미지, 동영상, 서버 로그 등 모든 유형의 파일을 객체로 처리
* 수 테라바이트인 객체까지 지원
* 데이터베이스 스냅샷도 객체로 저장 가능
* IAM을 통한 데이터 액세스 가능자 관리 가능
* 데이터 암호화 가능
* 버킷 이름은 전 세계적으로 고유해야 하며 DNS를 준수해야 함
* 리전 간 교차 복제 가능하게 구성하여 가용성 및 재해 복구 성능 향상 가능
* 스토리지와 성능 조절이 가능하기 때문에 다양한 빅 데이터 도구를 사용하여 분석하고자 하는 데이터의 스테이징 또는 장기 저장에 적합
* Redshift에 로드
* EMR에서 처리
* Athena를 통한 쿼리
* Snowball를 통한 import/export
* PUT, COPY, POST, LIST, GET 요청에 대해 과금





----


## Glacier


#### 기본 정보
* 저비용으로 장기간 보관할 수 있도록 설계되어 가끔씩 액세스되는 데이터 보관에 적합
* 복수의 시설에 각 시설에서도 여러 디바이스에 다중 저장하기 때문에 높은 내구성 제공
* 수명 주기 정책을 통해 S3에서 자동으로 보관 가능
* S3의 버전 관리 기능을 통해 버전을 기준으로 데이터를 보관하는 수명 주기 정책 설정 가능
* 업로드 및 검색 요청에 대해서만 과금
* 모든 데이터 아카이브가 기본적으로 암호화됨

#### 핵심 용어
* 아카이브 (Archive)
  * 사진, 동영상 파일, 문서 등과 같이 Glacier에 저장하는 임의의 객체
  * 기본 스토리지 단위
  * 자체 고유 ID와 설명 부여 가능
* 저장소 (Vault)
  * 아카이브를 저장하는 컨테이너
  * 액세스 정책을 통해 접근 가능 사용자 관리 가능
  * 잠금 정책을 통해 저장소 변경 방지 가능

#### 데이터 복원
* 분 및 시간 단위의 데이터 검색 제공
* 액세스 횟수 및 비용이 각기 다른 세 가지 옵션 제공
* 대량
  * 가장 저렴
  * 5~12시간 소요
* 표준
  * 3~5시간 소요
* 고속 검색
  * 가장 비쌈
  * 1~5분 소요





----


## RDS


#### 기본 정보
* 운영 체제 설치 및 패치
* 데이터베이스 소프트웨어 설치 및 패치
* 자동 백업 및 고가용성 유지 관리
* 리소스 규모 조정
* 전력 및 서버 관리
* 유지 관리 수행
* RDS의 기본 빌딩 블록은 데이터베이스 인스턴스
* 데이터베이스 인스턴스는 여러 데이터베이스가 포함 가능
* MySQL, Amazon Aurora, MS Sequel Server, PostgreSQL, MariaDB, Oracle 등 6개 데이터베이스 지원
* 다중 가용 영역 배포로 높은 가용성 구현
* 마스터 데이터베이스 장애 발생 시 자동으로 예비 데이터베이스 인스턴스를 새 마스터로 가동
* 읽기 전용 복제본 생성 지원을 통한 성능 향상
* 읽기 전용 복제본은 마스터 데이터베이스와 다른 리전에 생성 가능





----


## DynamoDB


#### 기본 정보
* 완전 관리형 NoSQL 데이터베이스 서비스
* 테이블에 저장할 수 있는 항목의 수에 사실상 제한이 없음
* 동일한 테이블에 있는 항목의 속성이 다를 수 있음
* 애플리케이션이 진화함에 따라 유연하게 속성 추가 가능
* 스키마 마이그레이션 없이 동일 테이블 내에서 단계적으로 기존 형식 대신 새 형식의 데이터 저장 가능
* 모든 데이터는 SSD에 저장
* 단순한 쿼리로 지연 시간이 일관적으로 짧고, 높은 쿼리 성능 제공
* 스토리지 규모 조정 뿐만 아니라 테이블 읽기/쓰기 처리량의 프로비저닝 가능
  * 수동 프로비저닝
  * Auto Scaling을 통한 자동 프로비저닝
  * 이를 통해 클라이언트의 성능을 일관적으로 유지 가능

#### 데이터 검색 방법
* 쿼리 시 효과적으로 분할을 활용하고 기본 키를 사용하여 데이터 검색
* 키가 아닌 속성에 대한 조건을 대조하여 데이터 검색
테이블의 모든 항목을 검색하기 때문에 덜 효율적





----


## Redshift


#### 기본 정보
* 속도가 빠른 완전 관리형 데이터 웨어하우스
* 표준 SQL 및 기존 비즈니스 인텔리전스 도구를 통해 모든 데이터를 간편하고 비용 효율적으로 분석 가능
* 고성능 JDBC, ODBC 커넥트 제공
* 정교한 쿼리 최적화
* 고성능 로컬 디스크에 대한 열 형식 저장
* 방대한 병렬 쿼리 실행
* 페타바이트 규모의 구조화 데이터를 대상으로 복잡한 분석 쿼리 실행
* 대부분의 결과가 수 초 이내에 반환
* 시간당 25센트 ~ 테라바이트당 연간 천 달러
* 전통적인 데이터 웨어하우스에 비해 1/10 수준의 비용
* Redshift Spectrum을 사용하면 엑사바이트 규모의 데이터에 대해 S3에서 직접 쿼리 가능
* 저장 및 전송 중 암호화 기능





----


## Aurora


#### 기본 정보
* 고성능 상용 데이터베이스의 성능과 가용성
* 오픈 소스 데이터베이스의 간편성과 비용 효율성
* MySQL 관계형 데이터베이스 엔진
* 종량제 서비스로서 실제 사용하는 서비스와 기능에 대해서만 요금 지불
* 관리형 서비스로 AWS Database Migration Service 및 AWS Schema Conversion Tool과 같은 기능과 통합되어 데이터 세트를 Amazon Aurora로 이전 가능
* MySQL보다 다섯 배 뛰어난 성능
* 규모 조정
* 쉬운 가용성 확보
* 자동으로 수행되는 백업 관리 및 패치 작업

#### Amazon EC2 인스턴스에서 가동되는 데이터베이스에서는 아래의 작업들을 대신 수행
* 앱 및 쿼리 최적화
* 하드웨어 구성
* 패치
* 네트워킹 설정
* 전력 설정
* HVAC

#### 그럼에도 불구 하고 아래 작업은 직접 수행 필요
* 운영 체제 패치
* 전반적인 소프트웨어 및 백업 운영 업무

#### Amazon Aurora만의 장점
* 데이터 복사본 6개를 세 곳의 가용 영역에 걸쳐 저장
* S3에 대한 지속적인 백업 수행
* 최대 15개의 읽기 전용 복제본 사용 가능
* 문제 발생 시 즉각적인 장애 복구 가능하도록 설계
  * 장애 발생 시 최근 체크포인트로부터 Redo 로그를 재현할 필요 없음
  * 대신 읽기 작업 시 마다 이를 수행함
  * 장애 발행 후 DB 재시작 시간이 60초 이하로 감소
  * 데이터베이스 프로세스에서 버퍼 캐시를 분리하여 재시작 즉시 사용할 수 있도록 함
  * 캐시가 다시 채워질 때까지 액세스를 제한할 필요가 없어 중단이 방지 됨





----


## Trusted Advisor


#### 기본 정보
* 모범 사례를 제공하고 계정의 모든 리소스를 검사하여 각 리소스가 모범 사례에 부합하는지 확인하는 도구
* 보안, 내결함성, 성능, 비용 최적화

#### 동작 방법
* 계정 리소스를 기존 모범 사례와 비교하여 검사 형식으로 데이터 전송
* 모범 사례를 콘솔이나 API 형태로 나타냄
* 특정 검사 실패 시 조치를 취할 수 있도록 알림 수신 가능
* CloudWatch Event, Lambda와 같은 서비스를 통합하여 자동 작업을 수행하고 리소스 * * 최적화를 자동화할 수 있음
